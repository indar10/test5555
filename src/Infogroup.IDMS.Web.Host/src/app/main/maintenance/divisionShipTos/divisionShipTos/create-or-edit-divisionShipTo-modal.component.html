<div class="modal-content">
            <form *ngIf="active" #divisionShipToForm="ngForm" novalidate (ngSubmit)="save(divisionShipToForm)" autocomplete="off">
                <div class="modal-header">
                    <h4 class="modal-title">
                        <span *ngIf="divisionShipTo.id">{{l("EditDivisionShipToLabel")}}</span>
                        <span *ngIf="!divisionShipTo.id">{{l("CreateNewDivisionShipToLabel")}}</span>
                    </h4>
                    <button type="button" class="close" (click)="close()" aria-label="Close" [disabled]="saving">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-xs-6 col-sm-6 col-md-6">
                            <label for="DivisionShipTo_id">{{l("ID")}}</label>
                            <input type="text" id="DivisionShipTo_id" tabindex="1" class="form-control" [(ngModel)]="divisionShipTo.id" [(hidden)]="!divisionShipTo.id" [disabled]="divisionShipTo.id" name="id" />
                        </div>
                        <div class="form-group col-xs-6 col-sm-6 col-md-6">
                            <label for="DivisionShipTo_divisionName">{{l("Division")}} *</label>
                            <p-dropdown [options]="divisions" [disabled]="divisionShipTo.id" [filter]="true" tabindex="2"
                                        [(ngModel)]="divisionShipTo.divisionID" placeholder="Select Division" [style]="{'width':'100%'}" name="divisionID" required></p-dropdown>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6 col-sm-6 col-md-6">
                            <div class="form-group">
                                <label for="DivisionShipTo_cCode">{{l("cCode")}}</label>
                                <input type="text" id="DivisionShipTo_cCode" class="form-control" tabindex="3" [(ngModel)]="divisionShipTo.cCode" name="cCode" maxlength="15" />
                            </div>
                            <div class="form-group">
                                <label for="DivisionShipTo_cFirstName">{{l("cFirstName")}}</label>
                                <input type="text" id="DivisionShipTo_cFirstName" class="form-control" tabindex="5" [(ngModel)]="divisionShipTo.cFirstName" name="cFirstName" maxlength="50" />
                            </div>
                            <div class="form-group">
                                <label for="DivisionShipTo_cAddress1">{{l("cAddress1")}}</label>
                                <textarea id="DivisionShipTo_cAddress1" rows="1" class="form-control" tabindex="7" [(ngModel)]="divisionShipTo.cAddress1" name="cAddress1" maxlength="50"></textarea>
                            </div>
                        </div>
                        <div class="col-xs-6 col-sm-6 col-md-6">
                            <div class="form-group">
                                <label for="DivisionShipTo_cCompany">{{l("cCompany")}} *</label>
                                <input type="text"  #companyInput="ngModel" id="DivisionShipTo_cCompany" class="form-control" tabindex="4" [(ngModel)]="divisionShipTo.cCompany" name="cCompany" maxlength="50" noSpaceValidator="{{divisionShipTo.cCompany}}" />
                                <div *ngIf="companyInput.errors && (companyInput.dirty || companyInput.touched)"
                                     class="form-control-feedback">
                                    <div [hidden]="!companyInput.errors.noSpaceValidator">
                                        {{l("EnterCompany")}}
                                    </div>
                                </div>
                                <validation-messages [formCtrl]="companyInput"></validation-messages>
                            </div>
                            <div class="form-group">
                                <label for="DivisionShipTo_cLastName">{{l("cLastName")}}</label>
                                <input type="text" id="DivisionShipTo_cLastName" class="form-control" tabindex="6" [(ngModel)]="divisionShipTo.cLastName" name="cLastName" maxlength="50" />
                            </div>
                            <div class="form-group">
                                <label for="DivisionShipTo_cAddress2">{{l("cAddress2")}}</label>
                                <textarea id="DivisionShipTo_cAddress2" rows="1" class="form-control" tabindex="8" [(ngModel)]="divisionShipTo.cAddress2" name="cAddress2" maxlength="50"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4 col-sm-4 col-md-4">
                            <div class="form-group">
                                <label for="DivisionShipTo_cCity">{{l("cCity")}}</label>
                                <input type="text" id="DivisionShipTo_cCity" class="form-control" tabindex="9" [(ngModel)]="divisionShipTo.cCity" name="cCity" maxlength="30" />
                            </div>
                            <div class="form-group">
                                <label for="DivisionShipTo_cCountry">{{l("cCountry")}}</label>
                                <input type="text" id="DivisionShipTo_cCountry" class="form-control" tabindex="12" [(ngModel)]="divisionShipTo.cCountry" name="cCountry" maxlength="30" />
                            </div>
                        </div>
                        <div class="col-xs-4 col-sm-4 col-md-4">
                            <div class="form-group">
                                <label for="DivisionShipTo_cState">{{l("cState")}}</label>
                                <input type="text" id="DivisionShipTo_cState" class="form-control" tabindex="10" [(ngModel)]="divisionShipTo.cState" name="cState" maxlength="2" />
                            </div>
                            <div class="form-group">
                                <label for="DivisionShipTo_cPhone">{{l("cPhone")}}</label>
                                <input type="text" id="DivisionShipTo_cPhone" #phoneInput="ngModel" tabindex="13" class="form-control" [(ngModel)]="divisionShipTo.cPhone" name="cPhone" maxlength="20" pattern="\d{3}\-\d{3}\-\d{4}" />
                                <div *ngIf="phoneInput.errors && (phoneInput.dirty || phoneInput.touched)"
                                     class="form-control-feedback">
                                    <div [hidden]="!phoneInput.errors.pattern">
                                        {{l("InvalidPhone")}}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-4 col-sm-4 col-md-4">
                            <div class="form-group">
                                <label for="DivisionShipTo_cZip">{{l("cZip")}}</label>
                                <input type="text" id="DivisionShipTo_cZip" #zipInput="ngModel" tabindex="11" class="form-control" [(ngModel)]="divisionShipTo.cZip" name="cZip" maxlength="10" pattern="^\d{5}(?:-\d{4})?$|^[a-zA-Z]\d[a-zA-Z]\s?\d[a-zA-Z]\d$" />
                                <div *ngIf="zipInput.errors && (zipInput.dirty || zipInput.touched)"
                                     class="form-control-feedback">
                                    <div [hidden]="!zipInput.errors.pattern">
                                        {{l("InvalidZip")}}
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="DivisionShipTo_cFax">{{l("cFax")}}</label>
                                <input type="text" id="DivisionShipTo_cFax" #faxInput="ngModel" tabindex="14" class="form-control" [(ngModel)]="divisionShipTo.cFax" name="cFax" pattern="\d{3}\-\d{3}\-\d{4}" maxlength="20" />
                                <div *ngIf="faxInput.errors && (faxInput.dirty || faxInput.touched)"
                                     class="form-control-feedback">
                                    <div [hidden]="!faxInput.errors.pattern">
                                        {{l("InvalidFax")}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6 col-sm-6 col-md-6">
                            <div class="form-group">
                                <label for="DivisionShipTo_cEmail">{{l("cEmail")}}</label>
                                <textarea type="text" id="DivisionShipTo_cEmail" rows="1" tabindex="15" #emailInput="ngModel" class="form-control"  maxlength="1000" [(ngModel)]="divisionShipTo.cEmail" name="cEmail"
                                          emailValidator="(([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)(\s*;\s*|\s*$))*"></textarea>
                                <div *ngIf="emailInput.errors && (emailInput.dirty || emailInput.touched)"
                                     class="form-control-feedback">
                                    <div [hidden]="!emailInput.errors.emailValidator">
                                        {{l("InvalidEmailAddress")}}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-6 col-sm-6 col-md-6">
                            <div class="form-group">
                                <label for="DivisionShipTo_cNotes">{{l("cNotes")}}</label>
                                <textarea type="text" id="DivisionShipTo_cNotes" rows="1" tabindex="16" class="form-control" [(ngModel)]="divisionShipTo.cNotes" name="cNotes"></textarea>
                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-xs-5 col-sm-5 col-md-5">
                            <label for="DivisionShipTo_cFTPServer">{{l("cFTPServer")}}</label>
                            <input type="text" id="DivisionShipTo_cFTPServer" class="form-control" tabindex="17" [(ngModel)]="divisionShipTo.cFTPServer" (change)="onFTPServerChange()" name="cFTPServer" maxlength="1000" />
                            <div [hidden]="ftpServerInput" class="form-control-feedback">
                                {{l("Please enter FTP or SFTP site details")}}
                            </div>
                            </div>
                        <div class="form-group col-xs-1 col-sm-1 col-md-1" style="margin-top: 25px;">
                            <button type="button" (click)="openHelpDoc()" [tooltip]="l('HelpPdfTooltip')"  class="btn">
                                <i class="fa fa-question-circle fa-lg " aria-hidden="true"></i>
                            </button>
                        </div>
                        <div class="form-group col-xs-3 col-sm-3 col-md-3">
                            <label for="DivisionShipTo_cUserID">{{l("cUserID")}}</label>
                            <input type="text" id="DivisionShipTo_cUserID" class="form-control" tabindex="18" [(ngModel)]="divisionShipTo.cUserID" (change)="onUserIDChange()" name="cUserID" maxlength="25" />
                            <div [hidden]="userIdInput" class="form-control-feedback">
                                {{l("Please enter FTP or SFTP User")}}
                            </div>
                        </div>
                        <div class="form-group col-xs-3 col-sm-3 col-md-3">
                            <label for="DivisionShipTo_cPassword">{{l("cPassword")}}</label>
                        <input type="password" id="DivisionShipTo_cPassword" class="form-control" tabindex="19" [(ngModel)]="divisionShipTo.cPassword" (change)="onPasswordChange()" name="cPassword" maxlength="25" />
                        <div [hidden]="passwordInput" class="form-control-feedback">
                            {{l("Enter password for FTP")}}
                        </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="switchPopup">
                            <input type="checkbox" id="DivisionShipTo_iIsActive" [(ngModel)]="divisionShipTo.iIsActive" tabindex="20" name="iIsActive" checked />
                            <span class="slider round">
                                <span class="on">Active</span><span class="off">Inactive</span>
                            </span>
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button [disabled]="saving" type="button" class="btn btn-default" (click)="close()">{{l("Cancel")}}</button>
                    <button type="submit" class="btn btn-primary blue" [disabled]="!divisionShipToForm.form.valid || (!permission.isGranted('Pages.DivisionShipTos.Edit') && divisionShipTo.id)"
                            [buttonBusy]="saving" [busyText]="l('SavingWithThreeDot')">
                        <i class="fa fa-save"></i> <span>{{l("Save")}}</span>
                    </button>
                </div>
            </form>
        </div>